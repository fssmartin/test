<div class="auth auth--register animated fadeIn ">

    <app-loading *ngIf="loading" aria-live="assertive"></app-loading>

    <ng-container *ngIf="!loading;"> 

            <form id="registrar" [formGroup]="form">
                
                <h1>Crea tu Cuenta</h1>
                <h2></h2>
                <h2>* Rellena todos los campos</h2>
                <div class="auth-wraper-full">

                        <div class="auth-wraper auth-wraper--usu"                        
                                [class.auth-wraper--error] ="isInvalid('name')"
                                [class.auth-wraper--ok] ="!isInvalid('name')"
                            >        
                            <label>Nombre completo *</label>
                            <i class="fa fa-user fa-ico" aria-hidden="true"></i>
                            <input id="name" type="text" 
                                        class="form-rounded-log" 
                                        name="name"  
                                        formControlName="name"
                                        placeholder="Introduce Nombre completo"
                                        (keypress)="allowOnlyLetters($event)"
                                        maxlength=10
                                        [class.is-invalid]="isInvalid('name')"
                                        [attr.aria-invalid]="isInvalid('name')"                                   
                                        role="presentation" required autocomplete="off" autofocus="" /> 
                            
                        </div> 
                
                        <app-email     [form]="form"></app-email> 

                        <app-password  [form]="form" [includeConfirm]="true"></app-password>
                
            
                        <div class="auth-wraper auth-wraper--confirmation">
                            <label>
                                <input type="checkbox" formControlName="termsAccepted"  autocomplete="off" autofocus=""  name="termsAccepted" required />
                                He leído y acepto los
                                <a  (click)="showTerms()" title="Términos y Condiciones" >Términos y Condiciones</a> y la
                                <a (click)="showPolitica()" title="Política de Privacidad">Política de Privacidad</a>.
                            </label>
                    
                            <div *ngIf="isInvalid('termsAccepted')" class="error">
                                Debe aceptar los términos y condiciones para continuar.
                            </div>
                        </div> 
                </div>
                
                

            </form>
                
        <!-- mod botones  --> 
            <ul class="menu-buttons menu-buttons--vertical ">  
                <li class="menu-buttons-item">
                    <a class="btn btn--save "
                        title="" 
                        [class.disabled]="form.invalid"
                        (click)="register()">
                        Regístrate
                        <i class="fa fa-user-plus" aria-hidden="true"></i>
                    </a>
                </li> 
                <li class="menu-buttons-item ">
                    <p>¿Ya formas parte de {{empresa}}?</p>
                    <a class="btn--enlace" 
                        title="'ACCESS.MSG_LOGIN.MSG_INIT' | translate "
                        routerLink="/auth">
                    Iniciar Sesion
                    </a>
                </li> 
            </ul>
    
    </ng-container>

</div>